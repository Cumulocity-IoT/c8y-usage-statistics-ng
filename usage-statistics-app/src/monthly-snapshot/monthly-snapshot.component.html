<c8y-title>{{titleHeader | translate}}</c8y-title>
<!-- <statistics-action-bar [feature]="feature"></statistics-action-bar> -->

<div class="row d-flex show-grid">

  <div class="col-md-6 m-8">
    <div class="row">
      <div class="col-lg-6 m-8">
        <h4 class="text-medium">{{titleLastMonth}}</h4>
      </div>
    </div>
    <div class="card m-b-0">
      <device-class-chart *ngIf="deviceData" [deviceData]="deviceData"></device-class-chart>
    </div>
  </div>

  <div class="col-md-6 m-8">
    <div class="row">
      <div class="col-lg-6 m-8">
        <h4 class="text-medium">{{titleSnapshot}}</h4>
        <!-- <button class="btn btn-default" type="submit" (click)="refreshSnapshot()">
          Refresh Snapshot
        </button> -->
      </div>
    </div>
    <div class="card m-b-0">
      <device-class-chart *ngIf="deviceDataCurrentMonth" [deviceData]="deviceDataCurrentMonth"></device-class-chart>
    </div>
  </div>
</div>

<div class="row d-flex show-grid">
 
  <div class="col-md-6 m-8" *ngIf="deviceData && tenantAggregation && microserviceData">
    <div class="card m-b-0">
      <table class="table">
        <thead>
          <tr>
            <th>Successful Requests</th>
            <th>Devices</th>
            <th>Memory</th>
            <th>CPU</th>
            <th>CCUs</th>
            <th>MEAs</th>
            <th>Storage (GiB)</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>{{totalMeas | number: '2.'}}</td>
            <td>{{totalDeviceCount| number: '2.'}}</td>
            <td>{{totalMem| number: '2.'}}</td>
            <td>{{totalCpu| number: '2.'}}</td>
            <td>{{CCUs| number: '2.'}}</td>
            <td>{{tenantAggregation.meas| number }}</td>
            <td>{{tenantAggregation.storageHumanReadable}}</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="card m-b-0">
      <c8y-data-grid 
      [configureColumnsEnabled]="false" 
      [showSearch]="false" 
      [columns]="columns" 
      [rows]="deviceData"
      [actionControls]="[]" 
      [pagination]="pagination" 
      [displayOptions]="{ striped: true, bordered: false, gridHeader: false, filter: false, hover: true }"
      class="d-contents">
      </c8y-data-grid>
    </div>
  </div>
  <div class="col-md-6 m-8" *ngIf="deviceDataCurrentMonth && tenantAggregationCurrentMonth && microserviceDataCurrentMonth">
    <div class="card m-b-0">
      <table class="table">
        <thead>
          <tr>
            <th>Successful Requests</th>
            <th>Devices</th>
            <th>Memory</th>
            <th>CPU</th>
            <th>CCUs</th>
            <th>MEAs</th>
            <th>Storage (GiB)</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>{{totalMeasCurrentMonth | number: '2.'}}</td>
            <td>{{totalDeviceCountCurrentMonth| number: '2.'}}</td>
            <td>{{totalMemCurrentMonth| number: '2.'}}</td>
            <td>{{totalCpuCurrentMonth| number: '2.'}}</td>
            <td>{{CCUsCurrentMonth| number: '2.'}}</td>
            <td>{{tenantAggregationCurrentMonth.meas| number }}</td>
            <td>{{tenantAggregationCurrentMonth.storageHumanReadable}}</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="card m-b-0">
      <c8y-data-grid 
      [configureColumnsEnabled]="false" 
      [showSearch]="false" 
      [columns]="columns" 
      [rows]="deviceDataCurrentMonth"
      [actionControls]="[]" 
      [pagination]="pagination" 
      [displayOptions]="{ striped: true, bordered: false, gridHeader: false, filter: false, hover: true }"
      class="d-contents">
      </c8y-data-grid>
    </div>
  </div>
</div>


